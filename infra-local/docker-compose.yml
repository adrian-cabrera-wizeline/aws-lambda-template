version: '3.8'

services:
  # ORACLE DATABASE (Express Edition)
  oracle-local:
    image: gvenzl/oracle-free:23-slim
    container_name: oracle-local
    ports:
      - "1521:1521"
    environment:
      # These credentials match the local-debug.yaml defaults
      ORACLE_PASSWORD: "password"
      APP_USER: "app_user"
      APP_USER_PASSWORD: "password"
    healthcheck:
      test: ["CMD", "healthcheck.sh"]
      interval: 10s
      timeout: 5s
      retries: 10

  # DYNAMODB LOCAL
  dynamodb-local:
    image: amazon/dynamodb-local
    container_name: dynamodb-local
    ports:
      - "8000:8000"
    command: ["-jar", "DynamoDBLocal.jar", "-sharedDb"]
    working_dir: /home/dynamodblocal